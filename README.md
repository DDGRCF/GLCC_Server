
<div>&nbsp;</div>
<div align="center">

<div>
<img src="./asserts/logoWithText.png" width = "488" height = "159" alt="logo-catcat" align=center />
</div>
<div>&nbsp;</div>
<div>
<img src="./asserts/gitlink&&mmdeploy.png" width="" height = "40" alt="logo-mmdeply&&gitlink" align=center/>
</div>
</div>

<h1 align="center">

Cat Cat | MMDeply $\times$ GLCC å¼€æºé¡¹ç›® | MMDeploy å®è·µ

</h1>

<p align="center">
    <a href='https://github.com/DDGRCF/GLCC_Server'><img src='https://img.shields.io/badge/system-linux-blue' alt="System"></a>  
    &nbsp;
    <a href='https://github.com/DDGRCF/GLCC_Server'><img src='https://img.shields.io/badge/role-server-green' alt="Role"></a>
    &nbsp;
    <a href='https://github.com/DDGRCF/GLCC_Server'><img src='https://img.shields.io/badge/build-test-red' alt="Build"></a>  
</p>

# ä»‹ç»

âœ¨ æœ¬é¡¹ç›®æ˜¯å‘èµ·äº[CCF GitLinkå¼€æºç¼–ç¨‹å¤ä»¤è¥](https://www.gitlink.org.cn/)(GitLink Code Camp, ç®€ç§°GLCC). CCF GitLink å¼€æºç¼–ç¨‹å¤ä»¤è¥ï¼ˆGitLink Code Campï¼Œç®€ç§° GLCCï¼‰ï¼Œæ˜¯åœ¨ CCF ä¸­å›½è®¡ç®—æœºå­¦ä¼šæŒ‡å¯¼ä¸‹ï¼Œç”± GitLink ç¤¾åŒºè”åˆ CCF å¼€æºå‘å±•å§”å‘˜ä¼šï¼ˆCCF ODCï¼‰å…±åŒä¸¾åŠçš„é¢å‘å…¨å›½é«˜æ ¡å­¦ç”Ÿçš„æš‘æœŸå¼€æºé¡¹ç›®å®ä¹ è®¡åˆ’ã€‚æ´»åŠ¨å°†è”åˆå„å¤§å¼€æºä¼ä¸šã€å¼€æºåŸºé‡‘ä¼šã€å¼€æºç¤¾åŒºåŠå¼€æºé¢†åŸŸä¸“å®¶ï¼Œæ—¨åœ¨é¼“åŠ±é«˜æ ¡å­¦ç”Ÿé€šè¿‡å‚ä¸çœŸå®çš„å¼€æºè½¯ä»¶å¼€å‘ï¼Œæ„Ÿå—å¼€æºæ–‡åŒ–ï¼Œæå‡è‡ªèº«æŠ€æœ¯èƒ½åŠ›ï¼Œè¿›è€Œè¾¾åˆ°ä¸ºå¼€æºä¼ä¸šå’Œç¤¾åŒºè¾“é€ä¼˜ç§€äººæ‰çš„ç›®çš„ã€‚ä½œä¸ºæ­¤æ¬¡æ´»åŠ¨çš„ç‰¹é‚€åˆä½œå•ä½ï¼ŒOpenMMLab è®¾ç½®äº† 12 ä¸ªé¡¹ç›®æ–¹å‘å…± 15 ä¸ªè¯¾é¢˜

âœ¨ æœ¬é¡¹ç›®åŸºäº[OpenMMLab](https://github.com/open-mmlab)ä¸‹çš„å­å¼€æºé¡¹ç›®[MMDeploy](https://github.com/open-mmlab/mmdeploy)ğŸ”¥ğŸ”¥ğŸ”¥å®ç°çš„ã€‚MMDeploy æ˜¯ OpenMMLab æ¨¡å‹éƒ¨ç½²å·¥å…·ç®±ï¼Œä¸ºå„ç®—æ³•åº“æä¾›ç»Ÿä¸€çš„éƒ¨ç½²ä½“éªŒã€‚åŸºäº MMDeployï¼Œå¼€å‘è€…å¯ä»¥è½»æ¾ä»è®­ç»ƒ repo ç”ŸæˆæŒ‡å®šç¡¬ä»¶æ‰€éœ€ SDKï¼Œçœå»å¤§é‡é€‚é…æ—¶é—´ã€‚ç›®å‰ MMDeploy æ”¯æŒçš„ç®—æ³• repo æœ‰ï¼šmmclsã€mmdetã€mmdet3dã€mmeditã€mmocrã€mmposeã€mmsegã€mmrazorã€‚MMDeploy åŒæ—¶æ”¯æŒè¶…å¤šæ¨ç†åç«¯ï¼šONNX Runtimeã€TensorRTã€ppl.nnã€ncnnã€OpenVINOï¼Œç›®å‰æ–°ç‰ˆå·²ç»å‘å¸ƒï¼Œå¿«å»ä½“éªŒä¸€ä¸‹å§ğŸ”¥ğŸ”¥ğŸ”¥

âœ¨ é’ˆå¯¹å¦‚ä»ŠçŒ«çŒ«é¥²å…»æ™®åŠï¼Œä½†äººä»¬å·¥ä½œè¶Šæ¥è¶Šå¿™ç¢Œï¼Œä¸èƒ½å¤Ÿç…§çœ‹çŒ«çŒ«çš„é—®é¢˜ï¼Œæœ¬é¡¹ç›®åŸºäºMMDeployï¼Œå®ç°äº†çŒ«çŒ«çš„æ£€æµ‹è¯†åˆ«ï¼Œè·Ÿè¸ªç­‰æœåŠ¡ï¼Œè¯¥æœåŠ¡ä¸»è¦å…·æœ‰ä»¥ä¸‹ä¸¤ä¸ªåŠŸèƒ½:

* èƒ½å¤Ÿå¯¹çŒ«çŒ«è¿›è¡Œæ£€æµ‹å’Œè·Ÿè¸ªï¼Œå¹¶å°†æ£€æµ‹ç»“æœè¿›è¡Œæ¨æµï¼Œé€šè¿‡æ‰‹æœºAppè¿›è¡Œæ’­æ”¾
* èƒ½å¤Ÿå¯¹çŒ«çŒ«è¿›è¡Œåˆ’çº¿æ£€æµ‹ï¼Œå¯¹äºçŒ«çŒ«è¿›å…¥ä¸€å®šåŒºåŸŸçš„è§†é¢‘è¿›è¡Œè®°å½•å¹¶æ¨é€ç»™ç”¨æˆ·

ç›®å‰ï¼Œè¯¥é¡¹ç›®åŒ…æ‹¬ä¸¤ä¸ªéƒ¨åˆ†:

* **èƒ½å¤Ÿå“åº”Httpè¯·æ±‚ï¼Œå®Œæˆæ£€æµ‹è·Ÿè¸ªçš„æœåŠ¡å™¨** ğŸ‘ˆ **(ç›®å‰ä½ç½®)**
* [èƒ½å¤Ÿå‘èµ·Httpè¯·æ±‚ï¼Œå®Œæˆå®ç°æ’­æ”¾çš„å®¢æœç«¯](https://github.com/DDGRCF/GLCC_AndroidApplication)

**âœ¨æœåŠ¡å™¨ç›®å‰æ”¯æŒçš„åŠŸèƒ½:**

- [x] å“åº”åŸºç¡€çš„Httpè¯·æ±‚    
- [x] çŒ«çŒ«æ£€æµ‹å’Œè·Ÿè¸ª 
- [x] çŒ«çŒ«çš„è¶Šçº¿æ£€æµ‹
- [x] çŒ«çŒ«çš„è¶Šçº¿æ—¶é—´ç‚¹è§†é¢‘çš„è®°å½•
- [x] ç›‘æ§çš„ç›´æ’­è§†é¢‘æµçš„æ¨é€
- [x] ç›‘æ§çš„æ–‡ä»¶è§†é¢‘æµçš„æ¨é€
- [x] æä¾›é…ç½®æ–‡ä»¶å¯æ‹“å±•å…¶ä»–ç±»åˆ«
- [ ] åŠ è½½SSLè¯ä¹¦ 
 
**âœ¨å®¢æœç«¯ç›®å‰å®Œæˆçš„åŠŸèƒ½:**

- [x] å‘èµ·åŸºç¡€çš„Httpè¯·æ±‚
- [x] ç”¨æˆ·ç™»å½•æ³¨å†Œ
- [x] è§†é¢‘æºç™»å½•åˆ é™¤
- [x] çŒ«çŒ«ç›‘æ§çš„ç›´æ’­è§†é¢‘æµçš„æ‹‰å–
- [x] çŒ«çŒ«è®°å½•çš„æ–‡ä»¶è§†é¢‘æµçš„æ‹‰å–
- [x] æ”¯æŒæœåŠ¡å™¨é…ç½®ç«¯å£ï¼ŒIPç­‰ä¿¡æ¯
- [ ] åŠ è½½SSLè¯ä¹¦



# é¢„è§ˆ

## æœåŠ¡å™¨

![serverInstance](/asserts/serverInstance.gif)

## å®¢æœç«¯
<img src="./asserts/clientInstanceSplash.jpg" width="190" height = "411" alt="server-Instance"/>  <img src="./asserts/clientInstanceLogin.jpg" width="190" height = "411" alt="server-Instance"/>  <img src="./asserts/clientInstanceRegister.jpg" width="190" height = "411" alt="server-Instance"/>  <img src="./asserts/clientInstance.gif" width="190" height = "411" alt="server-Instance"/>


# å·¥ä½œæµç¨‹
![glccWorkflow](/asserts/glccWorkflow.png)
# å®‰è£…ä¸è¿è¡Œ
### ç¯å¢ƒä¾èµ–
* **MMDeploy**(OpenMMLabä¸‹éƒ¨ç½²å·¥ä½œåŒ…) â¡ï¸ [ç‚¹å‡»è¿›å…¥](https://github.com/open-mmlab/mmdeploy.git)
* **Workflow**(åŸºäºC/C++è‡´åŠ›äºé«˜æ€§èƒ½æœåŠ¡å™¨å¼€å‘çš„åº“) â¡ï¸ [ç‚¹å‡»è¿›å…¥](https://github.com/sogou/workflow/blob/master) 
* **Eigen**(C/C++çš„çŸ©é˜µè®¡ç®—åº“) â¡ï¸ [ç‚¹å‡»è¿›å…¥](https://eigen.tuxfamily.org/index.php?title=Main_Page)
* **FFmpeg**(åŒ…å«è§†é¢‘ã€éŸ³é¢‘å¤„ç†å·¥å…·åŒ…å’Œå¼€å‘åº“) â¡ï¸ [ç‚¹å‡»è¿›å…¥](https://ffmpeg.org/)
* **Mysql**(å¼€æ”¾æºç çš„æ•°æ®åº“) â¡ [ç‚¹å‡»è¿›å…¥](https://www.mysql.com/)
* **JsonCpp**(åŸºäºC/C++çš„Jsonæ ¼å¼è§£æåº“) â¡ [ç‚¹å‡»è¿›å…¥](https://github.com/open-source-parsers/jsoncpp) 
* **Lal**(åŸºäºGoå¼€å‘çš„é«˜æ€§èƒ½æµæœåŠ¡å™¨) â¡ [ç‚¹å‡»è¿›å…¥](https://github.com/q191201771/lal)
### å®‰è£…å‘½ä»¤
ä¸Šé¢çš„ä¾èµ–æ ¹æ®éƒ½å…·æœ‰è¯¦ç»†çš„å®‰è£…æ–‡æ¡£ï¼Œå†å®‰è£…å®Œæ‰€æœ‰ä¾èµ–åï¼Œè¿›è¡Œä¸‹é¢çš„æ“ä½œ:

1. è®¾ç½®ç›¸å…³å˜é‡
```bash
MMDeploy_DIR=/path/to/your/mmdeploy/install
e.g. MMDeploy_DIR=mmdeploy/build/install/cmake/MMDeploy

OpenCV_DIR=/path/to/your/opencv/install
e.g. OpenCV_DIR=/usr/local/opencv/lib/cmake/opencv4

DEigen3_DIR=/path/to/your/Eigen/install
e.g. DEigen3_DIR=/usr/local/eign/share/eigen3/cmake
```

2. ç”ŸæˆMakeFile
```bash
mkdir -p build && cd build && cmake .. -DMMDeploy_DIR=${MMDeploy_DIR} -DOpencv_DIR=${Opencv_DIR} -DEigen3_DIR=${Eigen3_DIR}
```
3. ç¼–è¯‘
```bash
make -j8
```
### è¿è¡Œå‘½ä»¤
è¿è¡Œä¹‹å‰è¯·ç¡®ä¿LalæµæœåŠ¡å™¨ä»¥åŠMysqlæ•°æ®æœåŠ¡å™¨å¯åŠ¨
```bash
cd build
config=/path/your/config # it just put in configs/configs.json
SPDLOG_LEVEL=error ./glcc_server ${config}
```

# å¼€æºè®¸å¯è¯
æœ¬é¡¹ç›®é‡‡ç”¨ [MIT](./LICENSE) å¼€æºè®¸å¯è¯

# æ„Ÿè°¢ä»¥ä¸‹é¡¹ç›®
* [MMDeploy](https://github.com/open-mmlab/mmdeploy.git)
* [MMDetection](https://github.com/open-mmlab/mmdetection)
* [YOLOX](https://github.com/Megvii-BaseDetection/YOLOX)
* [Workflow](https://github.com/sogou/workflow/blob/master)
* [MegFlow](https://github.com/MegEngine/MegFlow)
* [ByteTrack](https://github.com/ifzhang/ByteTrack)
* [loguru](https://github.com/emilk/loguru)
* [Eigen](https://gitlab.com/libeigen/eigen)
* [FFmpeg](https://github.com/FFmpeg/FFmpeg)
* [JsonCpp](https://github.com/open-source-parsers/jsoncpp)
